
1. Which sensors are noisy? Compare noise levels.

The noise values are as follows: 

Acceleration noise (x,y,z):  0.157, 0.107, 0.189 m/s²
Velocity noise (x,y,z):      0.000, 0.000, 0.002 m/s
Attitude noise (r,p,y):      0.30, 0.34, 0.40 deg
Sonar height noise:          0.060 m
Barometer height noise:      7.454 m

The noise is measured in standard deviations of the detrended signal. As you can see, the Barometer had the greatest noise, at 7.454 m. Sonar height, on the other hand, has very little noise, at only 0.060 m standard deviations. Meanwhile, acceleration noise in both x y and z have relatively low levels of noise, with z having the greatest noise, x 2nd greatest, and y with the least noise. Attitude noise is relatively small as well, at around .3, .4 and .4 standard deviations. 

It is odd  that the velocity noise is so low, but it is possible the reason is the fidelity of the sensors or low texture/light. 

=====================================================

2. Do you see any drift or bias? Is it significant?

Sonar height drift:          0.0417 m/s (R² = 0.960)
Barometer height drift:      4.3710 m/s (R² = 0.947)

The bias represents a constant offset from the true altitude. In this data, the main bias between the barometer and sonar sensors is around 4058, showing the barometer consistently reads around 4km lower than the sonar. Likely, this is because the altitude barometer is referenced to sea level. The actual sea level tested was much lower than this showing a large bias for the barometer, which would likely be not as useful for this low-altitude application and better suited for high elevation flight like for an airplane.


The barometer is reporting a drift rate of 4.3610 m/s, which occurs when the drone has barely changed in altitude. This shows that there is potentially poor calibration, or the pressure to altitude conversion is not stable. The strong R^2 value suggests that the data follows a linear trend strongly, suggest this problem is likely a systematic error rather than random noise. Temperature changes, pressure fluctuations, and air turbulence could cause this. This is significant, and unrealistic. This severe magnitude of drift suggests this barometer is not usable for altitude control. 

The sonar height drift is smaller, at 0.0417 m/s,  which is around 1.25m of drift in 30 seconds. This is mild, and could be caused by small errors. The high R^2 value suggests the drift is linear and real, rather than random noise. This gives us signal that this is small drift, and acceptable for control.


=====================================================

3.  How do barometer vs sonar compare? Which is more reliable?
Despite the sensors correlated well, the barometer has a significant offset and constant bias. Overall, the barometer has significantly more height noise (7.454m) compared to sonar height noise (0.060m). Additionally, there is a large constant bias for the barometer, likely due to being referenced to sea level. Additionaly, although it is consistent, the data itself is unreliable. Sonar, on the other hand, has low noise, as mentioned, and relatively small drift as described in question 2. Because of these reasons, the sonar is considerably more reliable than the barometer. 


=====================================================
4. What's the sampling rate?  Did we achieve 10 Hz?"
Originally, the sampling rate was 38 Hz. However this is likely due to an outlier value, where the frequency went up to ~9000 hz. After including a floor that cuts off this unrealistically small time stamp, (valid = np.isfinite(dt) & (dt > 0.001) & (dt < 1) ), we find a more realistic sampling rate, 10 +/- 0.1 Hz. The sampling rate range was around 9.2 to 10.9 Hz. So yes, we did achieve 10 Hz approximately (filtering out unrelastic timestamp spikes)


=====================================================
5. Which sensor would you recommend for altitude control?

We'd recommend the sonar sensor. This is because it has low noise, high stability and short-range accuracy. Barometer sensor has more noise, drift and high bias, making it less reliable than sonar. 
